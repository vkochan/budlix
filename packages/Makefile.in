INSTALL := $(shell which install || type -p install)
UNZIP := $(shell which unzip || type -p unzip) -q
MAKE1 := $(MAKE) -j1

APPLY_PATCHES = support/scripts/apply-patches.sh $(if $(QUIET),-s)

include packages/pkg-download.mk
include packages/pkg-generic.mk
include packages/pkg-autotools.mk

BUILD_CC = $(CC)

ifeq ($(CONFIG_PKG_MUSL),y)
BUILD_CC += -specs $(STAGING_DIR)/lib/musl-gcc.specs
endif

BUILD_LDFLAGS = -L$(STAGING_DIR)
BUILD_CFLAGS = -I$(STAGING_DIR)
BUILD_CPPFLAGS = -I$(STAGING_DIR)

BUILD_OPTS = \
	CC="$(BUILD_CC)" \
	LDFLAGS="$(BUILD_LDFLAGS)" \
	CFLAGS="$(BUILD_CFLAGS)" \
	CPPFLAGS="$(BUILD_CPPFLAGS)" \
	STAGING_DIR="$(STAGING_DIR)"
